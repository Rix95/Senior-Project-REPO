import axios from 'axios'

const apiClient = axios.create({
  baseURL: import.meta.env.VITE_API_URL || 'http://localhost:8000',
  timeout: 10_000,
})

// --- Dashboard -----------------------
export const getVulnerabilityCount   = () => apiClient.get('/count_vulnerabilities')
export const getLastUpdated          = () => apiClient.get('/last_updated')
export const getVulnerabilityTimeline= () => apiClient.get('/items/vulnerability_timeline')

// --- Package Search ------------------
export const searchVulnerabilities = (pkg, ecosystem='npm') =>
  apiClient.get('/search_vulnerabilities', { params: { package: pkg, ecosystem } })

export default apiClient
